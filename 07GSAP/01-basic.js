/* -------------------------------------------------------------------------- */
/*                                  gsap.to()                                 */
/* -------------------------------------------------------------------------- */

/* -------------------------------------------------------------------------- */
/*                                 gsap.from()                                */
/* -------------------------------------------------------------------------- */

/* -------------------------------------------------------------------------- */
/*                                gsap.fromTo()                               */
/* -------------------------------------------------------------------------- */

/* -------------------------------------------------------------------------- */
/*                                  Stagger                                   */
/* -------------------------------------------------------------------------- */

/* -------------------------------------------------------------------------- */
/*                                  Timeline                                  */
/* -------------------------------------------------------------------------- */

/* -------------------------------------------------------------------------- */
/*                                  Controls                                  */
/* -------------------------------------------------------------------------- */

const tween = gsap.to(".control-wrap .ghost", {
  duration: 4,
  x: 300,
  ease: "none",
  paused: true,
});

const buttons = document.querySelectorAll(".control-wrap button");

buttons.forEach((button, index) => {
  button.addEventListener("click", () => {
    switch (index) {
      case 0:
        tween.play(); // 정방향 재생
        break;
      case 1:
        tween.pause(); // 일시정지
        break;
      case 2:
        tween.resume(); // 일시정지에서 시작
        break;
      case 3:
        tween.reverse(); // 역재생
        break;
      case 4:
        tween.restart(); // 처음부터 다시재생
        break;
    }
  });
});

/* -------------------------------------------------------------------------- */
/*                                    Tween                                   */
/* -------------------------------------------------------------------------- */

/* -------------------------------------------------------------------------- */
/*                               Dealy & Repeat                               */
/* -------------------------------------------------------------------------- */

/* -------------------------------------------------------------------------- */
/*                                    Ease                                    */
/* -------------------------------------------------------------------------- */

/* -------------------------------------------------------------------------- */
/*                                   Stagger                                  */
/* -------------------------------------------------------------------------- */

/* -------------------------------------------------------------------------- */
/*                                  From의 문제점                              */
/* -------------------------------------------------------------------------- */

/* -------------------------------- 바로가기 메뉴생성 ------------------------------- */
const nav = () => {
  const headings = document.querySelectorAll("h3");
  const nav = document.createElement("nav");
  const ul = document.createElement("ul");

  headings.forEach((h3, index) => {
    const li = document.createElement("li");
    const link = document.createElement("a");
    const text = h3.textContent;

    h3.setAttribute("id", `h3-${index}`);
    link.textContent = text;
    link.setAttribute("href", `#h3-${index}`);
    li.append(link);
    ul.append(li);
  });

  nav.append(ul);
  nav.classList.add("quick");
  document.body.append(nav);
};

nav();
